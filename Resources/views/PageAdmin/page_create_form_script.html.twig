{% autoescape false %}
<script type="text/javascript">

(function($){

    $("#{{ admin.getUniqid }}_locale").live('change', function(){
        var locale = $(this).val();
        $.getJSON(
            '{{ admin.generateUrl('parentPageList') }}',
            {locale: locale},
            function(data){
                var parentPages = $("#{{ admin.getUniqid }}_parent");
                parentPages.empty();
                parentPages.append($('<option></option>'));
                $.each(data, function(k, v){
                    if(v){
                        parentPages.append($('<option></option>').val(k).html(v));
                    }
                });
            }
        )
    })

})(jQuery);
</script>
{% endautoescape %}
